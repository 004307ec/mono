
Tue Sep 24 11:48:53 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: use mono_type_size () to get the size of
	a blob of data for a type (Zoltan Varga spotted the bug).

2002-09-22  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* get.c: closes bug #30814. Thanks to Zoltan Varga.

Mon Sep 16 18:49:55 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c, get.c, dump.c: updates for changes in libmetadata.

Fri Sep 13 15:39:41 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: dump public key.
	* get.c, util.h, util.c: prettyfy data dumps.

2002-08-28  Dick Porter  <dick@ximian.com>

	* Makefile.am: Export HOST_CC for w32 builds

Tue Aug 6 12:40:09 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: use mono_image_get_entry_point ().

Fri Jul 26 11:41:32 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c, dump.h, dump.c: output hash value in File table.
	Add dumper function for DeclSecurity table.

Fri Jul 19 14:20:10 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: handle null parent.

2002-07-02  Martin Baulig  <martin@gnome.org>

	* get.c (dis_stringify_object_with_class): New static function to
	stringify an object when we already have its class.
	(dis_stringify_object): Get the class and call dis_stringify_object().
	(get_method): Call dis_stringify_object_with_class() since we already
	have the object's class.

Thu Jun 20 11:50:38 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c, dump.c, dump.h: code to dump the MethodImpl table.

Mon Jun 17 17:31:19 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* get.h, get.c: get_marshal_info() to get a marshal descriptor.
	* main.c, dump.h, dump.c: added code to dump the FieldMarshl table.

Tue Jun 11 14:11:12 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* get.c: handle modulerefs.
	* main.c: fix --mscorlib argument handling.

Fri Jun 7 19:39:43 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* get.c: handle typerefs of nested types. Don't print "."
	with an empty namespace.

Sat Jun 1 13:57:17 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: print byte values correctly.

2002-05-20  Martin Baulig  <martin@gnome.org>

	* main.c: Added `--output=FILENAME' command line option.

	* monodis.1: Documented it here.

Thu May 16 17:21:07 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c, dump,c, get.h, get.c: diassemble custom attributes.

Wed May 15 16:02:56 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: output field RVA data.

Fri May 10 21:00:52 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: print field offset info if needed.

Wed May 1 17:07:56 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c, dump.h, main.c: dump ExportedTypes table.
	* get.c: fix get_module (), remove magic numbers.
	* monodis.1: update manpage (hi miguel!:)

Mon Apr 29 12:12:35 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c, dump.h, main.c: support for dumping the manifest resource table.

Mon Apr 15 11:35:05 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c, dump.h, get.c, get.h, main.c: support for dumping the
	module table and guid values.

Mon Apr 8 17:15:04 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: removed unneeded runtime invoke support.

Thu Mar 28 16:52:11 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c, dump.c, get.c, main.c, util.h: spring warning cleanup.

Thu Mar 28 11:29:58 CET 2002 Paolo Molaro <lupus@ximian.com>

	* util.c: when an invalid flags combination is seen,
	return the string "invalid-flags", so disassembly can continue.

Tue Mar 19 18:15:29 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c: use unsigned for variables.

Sat Mar 16 19:13:57 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c: handle TypeSpec token in memberref table dump.

2002-03-08  Nick Drochak  <ndrochak@gol.com>

	* monodis.1: Add info about new parameter
	* main.c: Add flag to remember if user wants to us mscorlib for
	non-corilb assembly names
	* get.c(get_typedef): use mscorlib for assembly name only
	if user specifies it with a command line parameter. Default
	behavior is now to use actual assembly name.
 
Tue Mar 5 18:11:01 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c: print index of the methodsemantics table.
	* main.cs: print event information.

Wed Feb 20 22:10:48 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c: fix the fix and more complete custom attribute decoder.

Tue Feb 19 20:20:15 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c: the prolog is before each arg in the custom attribute blob.

Mon Feb 18 15:48:38 CET 2002 Paolo Molaro <lupus@ximian.com>

	* get.c: include last param.

Thu Feb 14 18:59:37 CET 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: output pack and size info if needed.

2002-02-13  Dietmar Maurer  <dietmar@ximian.com>

	* *.c: s/MonoMetadata/MonoImage/ 

Tue Feb 12 14:33:53 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c: make all the indexes printed starting from 1.

Fri Feb 8 19:28:31 CET 2002 Paolo Molaro <lupus@ximian.com>

	* get.c: don't abort if a methodref is not found, usa alternative way
	to get the method name.

Fri Feb 8 12:29:41 CET 2002 Paolo Molaro <lupus@ximian.com>

	* Makefile.am: correct linking order.
	* dis-cil.c: use opcode info from opcodes.h instead of a copy of the data.

Thu Jan 31 18:21:12 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c: reverse order when outputting start try blocks.

Mon Jan 14 17:00:23 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c: more info in method table dump.

Mon Dec 24 17:24:13 CET 2001 Paolo Molaro <lupus@ximian.com>

	* main.c, dump.h, dump.c: add dump_table_nestedclass().
	* dis-cil.c: output int64 as hex.

Tue Dec 18 18:48:00 CET 2001 Paolo Molaro <lupus@ximian.com>

	* main.c: use mono_metadata_methods_from_property() and
	mono_metadata_properties_from_typedef() from metadata instead of
	custom code.

Tue Nov 27 16:31:52 CET 2001 Paolo Molaro <lupus@ximian.com>

	* main.c: output a marker for method (used in debug support).

Mon Nov 19 11:32:28 CET 2001 Paolo Molaro <lupus@ximian.com>

	* main.c: remove arch_create_jit_trampoline().

Thu Nov 15 17:42:03 CET 2001 Paolo Molaro <lupus@ximian.com>

	* dump.c: decode more info in the constant table.
	* get.c: show literals the same way ildasm does.
	* main.c: decode literal values for fields.

Fri Nov 2 19:04:21 CET 2001 Paolo Molaro <lupus@ximian.com>

	* main.c, dump, dump.c: decode the customattr table.
	* dump.c: handle also field signature when dumping the memberref
	table.

2001-11-07  Miguel de Icaza  <miguel@ximian.com>

	* main.c (dis_property_methods): Added missing colon which avoided
	setting loc.t

2001-10-10  Dietmar Maurer  <dietmar@ximian.com>

	* main.c (arch_compile_method):  added to compute vtable entry

Mon Oct 8 16:13:55 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* get.c, get.h: MonoArray changed in MonoArrayType.
	* main.c: guard against calling bsearch with a NULL pointer
	(pointed out by Laurent Rioux, smoux).

Thu Oct 4 19:05:56 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c: fix printing of exception stuff.
	* dump.c: display some more info in the typedef table dump.
	* main.c: typo fix and method list fix.

2001-10-04  Dick Porter  <dick@ximian.com>

	* meta.h: include mono-endian.h not endian.h

2001-10-02  Dietmar Maurer  <dietmar@ximian.com>

	* get.c (get_method): always write namespace and class name.

2001-09-06  Miguel de Icaza  <miguel@ximian.com>

	* monodis.1: Update man page.

Tue Aug 28 15:54:45 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* main.c, dump.c, dump.h, get.c: added dump_table_interfaceimpl ().
	Output info about interfaces when disassembling a type. Many small
	changes to make the output correct assembler.

Mon Aug 27 20:13:49 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c, get.c: some endian fixes.
	* main.c: colon-separate version numbers. Print also namespace
	when outputting class information.

Fri Aug 24 16:10:12 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* get.c, main.c, get.h: updates for MonoParam merge in MonoType.

2001-08-24  Dietmar Maurer  <dietmar@ximian.com>

	* main.c (disassemble_file): use assembly_open instead of image_open

Wed Aug 22 16:22:22 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c: add a newline after branch instructions. Move
	end of exception handler code at the end.

Tue Aug 21 18:51:05 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c: correctly print the label for multi-byte opcodes.

Mon Aug 20 19:33:34 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* util.c: add a space when decoding multiple flags.
	* dump.c, dump.h, main.c: decode the property map and
	methodsemantics tables. Disassemble property information
	to .property IL directives.
	* get.c: allow passing a NULL as method in dis_stringify_method ()
	if a methoddef_row is given.
	
2001-08-20  Dietmar Maurer  <dietmar@ximian.com>

	* get.c (dis_stringify_type): support pinned values

Sat Aug 18 11:24:07 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dump.c, get.c, get.h, main.c: dis_stringify_method_signature()
	gets an optional methodef_row index instead of a name, so it
	can figure out also the names and attributes of params.
	parse_method_signature() and free_method_signature() removed as
	they are useless now.

2001-08-17  Dietmar Maurer  <dietmar@ximian.com>

	* main.c (pinvoke_info): bug fix - use the right column in the table

2001-08-14  Dietmar Maurer  <dietmar@ximian.com>

	* get.c (dis_stringify_type): use strconcat instead of strjoin

Sat Aug 4 12:36:54 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* get.c, get.h, main.c, dump.c: implement dis_stringify_method_signature().
	More magic constants replaced by enum values (spotted at least 3 real bugs
	doing this). Print usage information if an unknown option is given.
	Print the full signature when dumping the method table.
	Changed method and field table dumps to show the typedef name the field
	or method belongs to.

Fri Aug 3 18:30:16 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* get.c (get_method): fix use of unitialized variable and
	remove magic constants all over the place.

Wed Aug 1 22:46:45 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c: properly decode the switch opcode.
	
2001-08-01  Dietmar Maurer  <dietmar@ximian.com>

	* get.c (get_token): decode typedef and typeref tokens

	* main.c (dis_method_list): don't decode the next row, that is
	totally unnecessary

Tue Jul 31 17:48:11 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c, dis-cil.h, dump.c, dump.h, get.c, get.h, main.c, push-pop.h:
	massive namespace cleanup.
	* main.c: dis_locals() now just strigifies a MonoMethodHeader.

2001-07-31  Dietmar Maurer  <dietmar@ximian.com>

	* main.c (pinvoke_flags): impl.

Mon Jul 30 20:08:37 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c, dis-cil.h, main.c: changes to disassemble also
	the information about try/catch/finally blocks.

2001-07-27  Dietmar Maurer  <dietmar@ximian.com>

	* get.c (dis_stringify_type): return "void" if !type
	(dis_stringify_type): print type* instead of *type

Thu Jul 26 13:22:28 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c, dump.c, get.c, main.c: updates to match changes in metadata.
	Removed dead code.

2001-07-17  Miguel de Icaza  <miguel@ximian.com>

	* main.c (usage): Print out all the arguments.

	* get.c, main.c, dump.c: Remove `expand', `get_encoded_value',
	`get_blob_encoded_size' and replaced with the proper functions
	from metadata.c

2001-07-15  Miguel de Icaza  <miguel@ximian.com>

	* main.c (dis_code): Only display .entrypoint when we are dealing
	with a module that contains an entry point.  This removes a bunch
	of warnings for .dll dumping

Sun Jul 15 17:29:10 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* get.h,get.c: added some dis_stringify_object() functions:
	metadata decoding is now done in libmetadata. Still need to use
	them throughhout the code (and move other decode code to
	metadata). Fix also field decoding (band-aid until we load
	also referenced assemblies).
	* dis/main.c: start using the new routines.

2001-07-13  Miguel de Icaza  <miguel@ximian.com>

	* get.c (get_method): GOOD. Implemented this other bad boy.

2001-07-12  Miguel de Icaza  <miguel@ximian.com>

	* get.c (get_token_type): Implement TOKEN_TYPE_TYPE_SPEC.
	(get_typespec): Implement.
	(get_typedef_or_ref): Use get_typespec.

	* dis-cil.c (dissasemble_cil): Implement InlineField
	(dissasemble_cil): Implement InlineTok.

	* get.c (get_token, get_field): Implemented.  Worked around lame
	tables in the spec.

Wed Jul 11 18:52:15 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c: output real name of local var.
	* dump.c: output more info about fields (flags and type). Properly decode
	Property signatures. Decode also method table.
	* main.c: Fix local variable info. Hopefully fix field and property list.

Mon Jul  9 16:39:41 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dump.c: write stuff to output, not stderr. Give more info for properties.
	* dump.c,dump.h,main.c: implement dump_table_event(), dump_table_file(),
	dump_table_moduleref().
	* get.c: first attempt to decode string constants, need to find if and where
	this is actually specified.

Fri Jul  6 19:49:21 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dump.c,dump.h: implement dump_table_property().
	* main.c: implement local variable info disassembling.
	Annotate entrypoint method. Remove memory leak in 
	parse_method_signature ().

2001-07-04  Miguel de Icaza  <miguel@ximian.com>
	
	* get.c (get_methodref_signature): Implement.

	* dump.c (dump_table_memberref): Add memberref dumping.

Tue,  3 Jul 2001 18:32:10 +0200 Paolo Molaro <lupus@ximian.com>

	* main.c: return on failure.

2001-07-02  Miguel de Icaza  <miguel@ximian.com>

	* dis-cil.c (get_encoded_user_string): Return a string from the
	#US heap. o

	* get.c (get_blob_encoded_size): Implement 23.1.4 decoding.

2001-07-01  Miguel de Icaza  <miguel@ximian.com>

	* dis-cil.c: New file.  CIL opcode dissasembler.

2001-06-27  Miguel de Icaza  <miguel@ximian.com>

	* main.c: Split code.

2001-06-22  Miguel de Icaza  <miguel@ximian.com>

	* main.c: More work on the disassembler and on the understanding
	of the metadata file format.   

